<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Transaction Management System</title>
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- DataTables for enhanced tables -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        :root {
            --primary: #4f46e5;
            --primary-light: #e0e7ff;
            --secondary: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --info: #06b6d4;
            --dark: #1f2937;
            --light: #f9fafb;
            --gray: #6b7280;
            --border: #e5e7eb;
            --sidebar: #111827;
            --sidebar-light: #1f2937;
        }

        body {
            background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
            color: var(--dark);
            min-height: 100vh;
        }

        .container {
            display: grid;
            grid-template-columns: 280px 1fr;
            min-height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            background: var(--sidebar);
            color: white;
            padding: 25px 0;
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
        }

        .logo {
            padding: 0 25px 30px;
            border-bottom: 1px solid var(--sidebar-light);
            margin-bottom: 25px;
        }

        .logo h2 {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.5rem;
        }

        .nav-menu {
            padding: 0 20px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 15px 20px;
            margin-bottom: 5px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            color: #cbd5e1;
            text-decoration: none;
        }

        .nav-item:hover, .nav-item.active {
            background: var(--sidebar-light);
            color: white;
        }

        .nav-item.active {
            background: var(--primary);
        }

        .nav-section {
            margin: 30px 0 15px;
            padding: 0 25px;
            color: #94a3b8;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Main Content */
        .main-content {
            padding: 25px;
            overflow-y: auto;
            max-height: 100vh;
        }

        /* Header */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--border);
        }

        .header h1 {
            font-size: 2.2rem;
            background: linear-gradient(135deg, var(--primary) 0%, #7c3aed 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .header-actions {
            display: flex;
            gap: 15px;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: #4338ca;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(79, 70, 229, 0.3);
        }

        .btn-success {
            background: var(--secondary);
            color: white;
        }

        .btn-success:hover {
            background: #0da271;
            transform: translateY(-2px);
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-danger:hover {
            background: #dc2626;
            transform: translateY(-2px);
        }

        .btn-outline {
            background: white;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-outline:hover {
            background: var(--primary-light);
        }

        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            gap: 20px;
            transition: transform 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
        }

        .stat-income .stat-icon { background: #d1fae5; color: var(--secondary); }
        .stat-expense .stat-icon { background: #fee2e2; color: var(--danger); }
        .stat-balance .stat-icon { background: #dbeafe; color: var(--primary); }
        .stat-pending .stat-icon { background: #fef3c7; color: var(--warning); }

        .stat-info h3 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
            color: var(--dark);
        }

        .stat-info p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .stat-trend {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-top: 5px;
        }

        .trend-up { color: var(--secondary); }
        .trend-down { color: var(--danger); }

        /* Quick Actions */
        .quick-actions {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .actions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .action-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 25px;
            border: 2px solid var(--border);
            border-radius: 12px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .action-btn:hover {
            border-color: var(--primary);
            background: var(--primary-light);
            transform: translateY(-3px);
        }

        .action-btn i {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .action-btn span {
            font-weight: 600;
            color: var(--dark);
        }

        .action-btn small {
            color: var(--gray);
            margin-top: 5px;
            font-size: 0.85rem;
        }

        /* Transaction Table */
        .table-section {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }

        .section-header h2 {
            font-size: 1.5rem;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .search-box {
            position: relative;
            width: 300px;
        }

        .search-box input {
            width: 100%;
            padding: 12px 45px 12px 15px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 0.95rem;
        }

        .search-box i {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray);
        }

        .filters {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 8px 16px;
            border: 2px solid var(--border);
            border-radius: 8px;
            background: white;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .filter-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* DataTable Customization */
        .dataTables_wrapper {
            margin-top: 20px;
        }

        table.dataTable {
            border-collapse: collapse !important;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        table.dataTable thead th {
            background: var(--primary-light);
            border-bottom: 2px solid var(--border);
            padding: 15px;
            font-weight: 600;
            color: var(--dark);
        }

        table.dataTable tbody td {
            padding: 15px;
            border-bottom: 1px solid var(--border);
        }

        table.dataTable tbody tr:hover {
            background: var(--light);
        }

        /* Status Badges */
        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            display: inline-block;
        }

        .status-completed { background: #d1fae5; color: var(--secondary); }
        .status-pending { background: #fef3c7; color: var(--warning); }
        .status-failed { background: #fee2e2; color: var(--danger); }
        .status-processing { background: #dbeafe; color: var(--primary); }

        /* Type Badges */
        .type-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            display: inline-block;
        }

        .type-income { background: #dcfce7; color: #166534; }
        .type-expense { background: #fee2e2; color: #991b1b; }
        .type-transfer { background: #dbeafe; color: #1e40af; }
        .type-refund { background: #fef3c7; color: #92400e; }

        /* Category Badges */
        .category-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            display: inline-block;
        }

        .category-shopping { background: #f3e8ff; color: #7c3aed; }
        .category-food { background: #ffedd5; color: #ea580c; }
        .category-transport { background: #dcfce7; color: #16a34a; }
        .category-entertainment { background: #fce7f3; color: #db2777; }
        .category-bills { background: #e0f2fe; color: #0284c7; }
        .category-salary { background: #f0f9ff; color: #0c4a6e; }

        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 8px;
        }

        .btn-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid var(--border);
            background: white;
            color: var(--gray);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-icon:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* Transaction Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 40px;
            width: 100%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .modal-header h2 {
            color: var(--dark);
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--gray);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }

        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid var(--border);
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        .form-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        /* Charts Section */
        .charts-section {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 1200px) {
            .charts-section {
                grid-template-columns: 1fr;
            }
        }

        .chart-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .chart-container {
            position: relative;
            height: 300px;
            width: 100%;
        }

        /* Recent Activity */
        .activity-list {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            border-bottom: 1px solid var(--border);
            transition: background 0.3s ease;
        }

        .activity-item:hover {
            background: var(--light);
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .activity-success { background: #d1fae5; color: var(--secondary); }
        .activity-warning { background: #fef3c7; color: var(--warning); }
        .activity-info { background: #dbeafe; color: var(--primary); }

        .activity-details h4 {
            margin-bottom: 5px;
            color: var(--dark);
        }

        .activity-details p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .activity-time {
            margin-left: auto;
            color: var(--gray);
            font-size: 0.85rem;
            white-space: nowrap;
        }

        /* Export Modal */
        .export-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 30px;
        }

        .export-option {
            border: 2px solid var(--border);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .export-option:hover {
            border-color: var(--primary);
            background: var(--primary-light);
        }

        .export-option i {
            font-size: 2rem;
            margin-bottom: 10px;
            display: block;
        }

        /* Date Range */
        .date-range {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .date-input {
            padding: 10px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 0.95rem;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                display: none;
            }
        }

        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                gap: 20px;
                align-items: flex-start;
            }
            
            .header-actions {
                width: 100%;
                flex-wrap: wrap;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .search-box {
                width: 100%;
            }
            
            .filters {
                overflow-x: auto;
                padding-bottom: 10px;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .stat-card, .table-section, .chart-card {
            animation: fadeIn 0.5s ease;
        }

        /* Loading State */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
            color: var(--gray);
        }

        .loading::after {
            content: '';
            width: 40px;
            height: 40px;
            border: 3px solid var(--border);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <h2>
                    <i class="fas fa-exchange-alt"></i>
                    TransactPro
                </h2>
            </div>
            
            <div class="nav-section">Dashboard</div>
            <a href="#" class="nav-item active">
                <i class="fas fa-home"></i>
                <span>Overview</span>
            </a>
            <a href="#" class="nav-item">
                <i class="fas fa-history"></i>
                <span>Transaction History</span>
            </a>
            <a href="#" class="nav-item">
                <i class="fas fa-chart-bar"></i>
                <span>Analytics</span>
            </a>
            
            <div class="nav-section">Transactions</div>
            <a href="#" class="nav-item">
                <i class="fas fa-plus-circle"></i>
                <span>Add Transaction</span>
            </a>
            <a href="#" class="nav-item">
                <i class="fas fa-file-import"></i>
                <span>Import/Export</span>
            </a>
            <a href="#" class="nav-item">
                <i class="fas fa-sync-alt"></i>
                <span>Recurring</span>
            </a>
            
            <div class="nav-section">Categories</div>
            <a href="#" class="nav-item">
                <i class="fas fa-shopping-cart"></i>
                <span>Shopping</span>
            </a>
            <a href="#" class="nav-item">
                <i class="fas fa-utensils"></i>
                <span>Food & Dining</span>
            </a>
            <a href="#" class="nav-item">
                <i class="fas fa-car"></i>
                <span>Transportation</span>
            </a>
            <a href="#" class="nav-item">
                <i class="fas fa-film"></i>
                <span>Entertainment</span>
            </a>
            
            <div class="nav-section">Settings</div>
            <a href="#" class="nav-item">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </a>
            <a href="#" class="nav-item">
                <i class="fas fa-bell"></i>
                <span>Notifications</span>
            </a>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <h1>
                    <i class="fas fa-exchange-alt"></i>
                    Transaction Management
                </h1>
                <div class="header-actions">
                    <div class="date-range">
                        <input type="date" class="date-input" id="startDate">
                        <span>to</span>
                        <input type="date" class="date-input" id="endDate" value="">
                    </div>
                    <button class="btn btn-outline" onclick="refreshData()">
                        <i class="fas fa-sync-alt"></i>
                        Refresh
                    </button>
                    <button class="btn btn-primary" onclick="openAddModal()">
                        <i class="fas fa-plus"></i>
                        Add Transaction
                    </button>
                </div>
            </div>

            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card stat-income">
                    <div class="stat-icon">
                        <i class="fas fa-arrow-down"></i>
                    </div>
                    <div class="stat-info">
                        <h3>$12,450</h3>
                        <p>Total Income</p>
                        <div class="stat-trend trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>12.5%</span>
                        </div>
                    </div>
                </div>
                
                <div class="stat-card stat-expense">
                    <div class="stat-icon">
                        <i class="fas fa-arrow-up"></i>
                    </div>
                    <div class="stat-info">
                        <h3>$8,250</h3>
                        <p>Total Expenses</p>
                        <div class="stat-trend trend-down">
                            <i class="fas fa-arrow-down"></i>
                            <span>5.2%</span>
                        </div>
                    </div>
                </div>
                
                <div class="stat-card stat-balance">
                    <div class="stat-icon">
                        <i class="fas fa-wallet"></i>
                    </div>
                    <div class="stat-info">
                        <h3>$4,200</h3>
                        <p>Current Balance</p>
                        <div class="stat-trend trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>7.3%</span>
                        </div>
                    </div>
                </div>
                
                <div class="stat-card stat-pending">
                    <div class="stat-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <div class="stat-info">
                        <h3>8</h3>
                        <p>Pending Transactions</p>
                        <div class="stat-trend trend-up">
                            <i class="fas fa-arrow-up"></i>
                            <span>2.1%</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <div class="section-header">
                    <h2>Quick Actions</h2>
                </div>
                <div class="actions-grid">
                    <div class="action-btn" onclick="openAddModal()">
                        <i class="fas fa-plus-circle"></i>
                        <span>Add Transaction</span>
                        <small>Record new transaction</small>
                    </div>
                    <div class="action-btn" onclick="importTransactions()">
                        <i class="fas fa-file-import"></i>
                        <span>Import CSV</span>
                        <small>Bulk import transactions</small>
                    </div>
                    <div class="action-btn" onclick="exportTransactions()">
                        <i class="fas fa-file-export"></i>
                        <span>Export Report</span>
                        <small>Download transaction data</small>
                    </div>
                    <div class="action-btn" onclick="openRecurringModal()">
                        <i class="fas fa-sync-alt"></i>
                        <span>Recurring</span>
                        <small>Manage scheduled transactions</small>
                    </div>
                    <div class="action-btn" onclick="openCategoriesModal()">
                        <i class="fas fa-tags"></i>
                        <span>Categories</span>
                        <small>Manage categories</small>
                    </div>
                    <div class="action-btn" onclick="runReports()">
                        <i class="fas fa-chart-pie"></i>
                        <span>Analytics</span>
                        <small>View spending insights</small>
                    </div>
                </div>
            </div>

            <!-- Charts Section -->
            <div class="charts-section">
                <div class="chart-card">
                    <div class="section-header">
                        <h2>Income vs Expenses</h2>
                        <select class="filter-select" style="width: auto;">
                            <option>Last 30 days</option>
                            <option>Last 90 days</option>
                            <option>This Year</option>
                        </select>
                    </div>
                    <div class="chart-container">
                        <canvas id="incomeExpenseChart"></canvas>
                    </div>
                </div>
                
                <div class="chart-card">
                    <div class="section-header">
                        <h2>Spending by Category</h2>
                        <select class="filter-select" style="width: auto;">
                            <option>This Month</option>
                            <option>Last Month</option>
                            <option>This Year</option>
                        </select>
                    </div>
                    <div class="chart-container">
                        <canvas id="categoryChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Transaction Table -->
            <div class="table-section">
                <div class="section-header">
                    <h2><i class="fas fa-list"></i> Recent Transactions</h2>
                    <div class="search-box">
                        <input type="text" placeholder="Search transactions..." id="searchInput">
                        <i class="fas fa-search"></i>
                    </div>
                </div>
                
                <div class="filters">
                    <button class="filter-btn active" onclick="filterTransactions('all')">All</button>
                    <button class="filter-btn" onclick="filterTransactions('income')">Income</button>
                    <button class="filter-btn" onclick="filterTransactions('expense')">Expenses</button>
                    <button class="filter-btn" onclick="filterTransactions('pending')">Pending</button>
                    <button class="filter-btn" onclick="filterTransactions('today')">Today</button>
                    <button class="filter-btn" onclick="filterTransactions('week')">This Week</button>
                    <button class="filter-btn" onclick="filterTransactions('month')">This Month</button>
                </div>
                
                <table id="transactionsTable" class="display" style="width:100%">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Description</th>
                            <th>Category</th>
                            <th>Type</th>
                            <th>Amount</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="transactionsBody">
                        <!-- Data will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>

            <!-- Recent Activity -->
            <div class="activity-list">
                <div class="section-header">
                    <h2><i class="fas fa-bell"></i> Recent Activity</h2>
                    <button class="btn btn-outline" style="padding: 8px 16px;">View All</button>
                </div>
                <div id="activityList">
                    <!-- Activities will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Add/Edit Transaction Modal -->
    <div class="modal" id="transactionModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Add New Transaction</h2>
                <button class="close-modal" onclick="closeTransactionModal()">×</button>
            </div>
            <form id="transactionForm">
                <input type="hidden" id="transactionId">
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="transactionDate">Date *</label>
                        <input type="date" id="transactionDate" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="transactionAmount">Amount *</label>
                        <input type="number" id="transactionAmount" class="form-control" placeholder="0.00" step="0.01" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="transactionDescription">Description *</label>
                    <input type="text" id="transactionDescription" class="form-control" placeholder="Enter transaction description" required>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="transactionType">Type *</label>
                        <select id="transactionType" class="form-control" required>
                            <option value="">Select type</option>
                            <option value="income">Income</option>
                            <option value="expense">Expense</option>
                            <option value="transfer">Transfer</option>
                            <option value="refund">Refund</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="transactionCategory">Category *</label>
                        <select id="transactionCategory" class="form-control" required>
                            <option value="">Select category</option>
                            <option value="shopping">Shopping</option>
                            <option value="food">Food & Dining</option>
                            <option value="transport">Transportation</option>
                            <option value="entertainment">Entertainment</option>
                            <option value="bills">Bills & Utilities</option>
                            <option value="salary">Salary</option>
                            <option value="investment">Investment</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="transactionStatus">Status</label>
                        <select id="transactionStatus" class="form-control">
                            <option value="completed">Completed</option>
                            <option value="pending">Pending</option>
                            <option value="failed">Failed</option>
                            <option value="processing">Processing</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="paymentMethod">Payment Method</label>
                        <select id="paymentMethod" class="form-control">
                            <option value="credit_card">Credit Card</option>
                            <option value="debit_card">Debit Card</option>
                            <option value="bank_transfer">Bank Transfer</option>
                            <option value="cash">Cash</option>
                            <option value="digital_wallet">Digital Wallet</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="transactionNotes">Notes</label>
                    <textarea id="transactionNotes" class="form-control" rows="3" placeholder="Additional notes..."></textarea>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Save Transaction</button>
                    <button type="button" class="btn btn-outline" onclick="closeTransactionModal()">Cancel</button>
                    <button type="button" class="btn btn-danger" id="deleteBtn" style="display: none;" onclick="deleteTransaction()">Delete</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Export Modal -->
    <div class="modal" id="exportModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Export Transactions</h2>
                <button class="close-modal" onclick="closeExportModal()">×</button>
            </div>
            <div class="export-options">
                <div class="export-option" onclick="selectExportFormat('pdf')">
                    <i class="fas fa-file-pdf"></i>
                    <div>PDF</div>
                    <small>Formatted report</small>
                </div>
                <div class="export-option" onclick="selectExportFormat('excel')">
                    <i class="fas fa-file-excel"></i>
                    <div>Excel</div>
                    <small>Spreadsheet format</small>
                </div>
                <div class="export-option" onclick="selectExportFormat('csv')">
                    <i class="fas fa-file-csv"></i>
                    <div>CSV</div>
                    <small>Raw data</small>
                </div>
                <div class="export-option" onclick="selectExportFormat('json')">
                    <i class="fas fa-file-code"></i>
                    <div>JSON</div>
                    <small>API data</small>
                </div>
            </div>
            
            <div class="form-group" style="margin-top: 30px;">
                <label>Date Range</label>
                <div class="form-row">
                    <input type="date" id="exportStartDate" class="form-control">
                    <input type="date" id="exportEndDate" class="form-control" value="">
                </div>
            </div>
            
            <div class="form-group">
                <label>Include Fields</label>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;">
                    <label><input type="checkbox" checked> Date</label>
                    <label><input type="checkbox" checked> Description</label>
                    <label><input type="checkbox" checked> Amount</label>
                    <label><input type="checkbox" checked> Category</label>
                    <label><input type="checkbox"> Type</label>
                    <label><input type="checkbox"> Status</label>
                    <label><input type="checkbox"> Payment Method</label>
                    <label><input type="checkbox"> Notes</label>
                </div>
            </div>
            
            <div class="form-actions">
                <button class="btn btn-primary" onclick="confirmExport()">Export Now</button>
                <button class="btn btn-outline" onclick="closeExportModal()">Cancel</button>
            </div>
        </div>
    </div>

    <script>
        // Transaction data
        let transactions = [
            {
                id: 1,
                date: '2024-12-15',
                description: 'Monthly Salary',
                category: 'salary',
                type: 'income',
                amount: 4500.00,
                status: 'completed',
                paymentMethod: 'bank_transfer',
                notes: 'December salary payment'
            },
            {
                id: 2,
                date: '2024-12-14',
                description: 'Grocery Shopping',
                category: 'food',
                type: 'expense',
                amount: 125.75,
                status: 'completed',
                paymentMethod: 'credit_card',
                notes: 'Weekly groceries'
            },
            {
                id: 3,
                date: '2024-12-13',
                description: 'Netflix Subscription',
                category: 'entertainment',
                type: 'expense',
                amount: 15.99,
                status: 'pending',
                paymentMethod: 'credit_card',
                notes: 'Monthly subscription'
            },
            {
                id: 4,
                date: '2024-12-12',
                description: 'Gas Station',
                category: 'transport',
                type: 'expense',
                amount: 45.50,
                status: 'completed',
                paymentMethod: 'debit_card',
                notes: 'Car fuel'
            },
            {
                id: 5,
                date: '2024-12-11',
                description: 'Freelance Work',
                category: 'salary',
                type: 'income',
                amount: 850.00,
                status: 'completed',
                paymentMethod: 'digital_wallet',
                notes: 'Web development project'
            },
            {
                id: 6,
                date: '2024-12-10',
                description: 'Amazon Purchase',
                category: 'shopping',
                type: 'expense',
                amount: 89.99,
                status: 'processing',
                paymentMethod: 'credit_card',
                notes: 'Office supplies'
            },
            {
                id: 7,
                date: '2024-12-09',
                description: 'Electricity Bill',
                category: 'bills',
                type: 'expense',
                amount: 120.30,
                status: 'completed',
                paymentMethod: 'bank_transfer',
                notes: 'November bill'
            },
            {
                id: 8,
                date: '2024-12-08',
                description: 'Restaurant Dinner',
                category: 'food',
                type: 'expense',
                amount: 65.25,
                status: 'completed',
                paymentMethod: 'credit_card',
                notes: 'Family dinner'
            }
        ];

        let editingTransactionId = null;
        let currentFilter = 'all';
        let dataTable = null;
        let charts = {};

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Set today's date as default
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('endDate').value = today;
            document.getElementById('exportEndDate').value = today;
            
            // Set start date as 30 days ago
            const thirtyDaysAgo = new Date();
            thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);
            document.getElementById('startDate').value = thirtyDaysAgo.toISOString().split('T')[0];
            document.getElementById('exportStartDate').value = thirtyDaysAgo.toISOString().split('T')[0];
            
            // Initialize DataTable
            initializeDataTable();
            
            // Initialize charts
            initializeCharts();
            
            // Load transactions
            loadTransactions();
            
            // Load recent activity
            loadRecentActivity();
            
            // Update stats
            updateStats();
            
            // Setup form submission
            document.getElementById('transactionForm').addEventListener('submit', handleTransactionSubmit);
            
            // Setup search
            document.getElementById('searchInput').addEventListener('keyup', function() {
                dataTable.search(this.value).draw();
            });
        });

        // Initialize DataTable
        function initializeDataTable() {
            dataTable = $('#transactionsTable').DataTable({
                paging: true,
                pageLength: 10,
                lengthChange: false,
                searching: true,
                ordering: true,
                info: true,
                autoWidth: false,
                language: {
                    search: "Search:",
                    info: "Showing _START_ to _END_ of _TOTAL_ transactions",
                    infoEmpty: "No transactions found",
                    zeroRecords: "No matching transactions found"
                },
                columns: [
                    { data: 'date' },
                    { data: 'description' },
                    { data: 'category' },
                    { data: 'type' },
                    { 
                        data: 'amount',
                        render: function(data, type, row) {
                            const amount = parseFloat(data);
                            const isIncome = row.type === 'income';
                            const sign = isIncome ? '+' : '-';
                            const color = isIncome ? 'var(--secondary)' : 'var(--danger)';
                            return `<span style="color: ${color}; font-weight: 600;">${sign}$${amount.toFixed(2)}</span>`;
                        }
                    },
                    { data: 'status' },
                    {
                        data: 'id',
                        render: function(data) {
                            return `
                                <div class="action-buttons">
                                    <button class="btn-icon" onclick="editTransaction(${data})" title="Edit">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-icon" onclick="deleteTransaction(${data})" title="Delete">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                    <button class="btn-icon" onclick="duplicateTransaction(${data})" title="Duplicate">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                </div>
                            `;
                        }
                    }
                ],
                createdRow: function(row, data, dataIndex) {
                    // Add custom classes based on data
                    $(row).addClass(`transaction-${data.type}`);
                    
                    // Format the status badge
                    const statusCell = $(row).find('td:eq(5)');
                    const statusBadge = getStatusBadge(data.status);
                    statusCell.html(statusBadge);
                    
                    // Format the category badge
                    const categoryCell = $(row).find('td:eq(2)');
                    const categoryBadge = getCategoryBadge(data.category);
                    categoryCell.html(categoryBadge);
                    
                    // Format the type badge
                    const typeCell = $(row).find('td:eq(3)');
                    const typeBadge = getTypeBadge(data.type);
                    typeCell.html(typeBadge);
                    
                    // Format the date
                    const dateCell = $(row).find('td:eq(0)');
                    dateCell.text(formatDate(data.date));
                }
            });
        }

        // Initialize Charts
        function initializeCharts() {
            // Income vs Expense Chart
            const incomeExpenseCtx = document.getElementById('incomeExpenseChart').getContext('2d');
            charts.incomeExpense = new Chart(incomeExpenseCtx, {
                type: 'bar',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                    datasets: [
                        {
                            label: 'Income',
                            data: [4500, 4800, 5200, 5100, 5300, 5500, 5700, 5600, 5800, 6000, 6200, 6450],
                            backgroundColor: '#10b981',
                            borderColor: '#10b981',
                            borderWidth: 1
                        },
                        {
                            label: 'Expenses',
                            data: [3800, 4000, 4200, 4100, 4300, 4500, 4700, 4600, 4800, 5000, 5200, 5250],
                            backgroundColor: '#ef4444',
                            borderColor: '#ef4444',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                drawBorder: false
                            },
                            ticks: {
                                callback: function(value) {
                                    return '$' + value.toLocaleString();
                                }
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });

            // Category Chart
            const categoryCtx = document.getElementById('categoryChart').getContext('2d');
            charts.category = new Chart(categoryCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Shopping', 'Food', 'Transport', 'Entertainment', 'Bills', 'Other'],
                    datasets: [{
                        data: [25, 30, 15, 10, 15, 5],
                        backgroundColor: [
                            '#8b5cf6',
                            '#f97316',
                            '#16a34a',
                            '#db2777',
                            '#0284c7',
                            '#6b7280'
                        ],
                        borderWidth: 1,
                        borderColor: '#ffffff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'right',
                        }
                    }
                }
            });
        }

        // Load transactions into DataTable
        function loadTransactions() {
            // Clear existing data
            dataTable.clear();
            
            // Add transactions
            transactions.forEach(transaction => {
                dataTable.row.add(transaction);
            });
            
            // Draw the table
            dataTable.draw();
            
            // Update stats
            updateStats();
        }

        // Load recent activity
        function loadRecentActivity() {
            const activityList = document.getElementById('activityList');
            const activities = [
                {
                    icon: 'fas fa-plus-circle',
                    title: 'New Transaction Added',
                    description: 'Added expense for Amazon Purchase',
                    time: '2 minutes ago',
                    type: 'success'
                },
                {
                    icon: 'fas fa-sync-alt',
                    title: 'Monthly Subscription Processed',
                    description: 'Netflix subscription processed',
                    time: '1 hour ago',
                    type: 'info'
                },
                {
                    icon: 'fas fa-exclamation-triangle',
                    title: 'Failed Transaction',
                    description: 'Payment failed for Electricity Bill',
                    time: '3 hours ago',
                    type: 'warning'
                },
                {
                    icon: 'fas fa-file-export',
                    title: 'Report Exported',
                    description: 'Monthly report exported as PDF',
                    time: '5 hours ago',
                    type: 'success'
                },
                {
                    icon: 'fas fa-user-plus',
                    title: 'New Category Added',
                    description: 'Added "Investment" category',
                    time: '1 day ago',
                    type: 'info'
                }
            ];
            
            activityList.innerHTML = activities.map(activity => `
                <div class="activity-item">
                    <div class="activity-icon activity-${activity.type}">
                        <i class="${activity.icon}"></i>
                    </div>
                    <div class="activity-details">
                        <h4>${activity.title}</h4>
                        <p>${activity.description}</p>
                    </div>
                    <div class="activity-time">${activity.time}</div>
                </div>
            `).join('');
        }

        // Update statistics
        function updateStats() {
            const totalIncome = transactions
                .filter(t => t.type === 'income' && t.status === 'completed')
                .reduce((sum, t) => sum + t.amount, 0);
                
            const totalExpense = transactions
                .filter(t => t.type === 'expense' && t.status === 'completed')
                .reduce((sum, t) => sum + t.amount, 0);
                
            const pendingCount = transactions.filter(t => t.status === 'pending').length;
            const balance = totalIncome - totalExpense;
            
            // Update DOM
            document.querySelector('.stat-income .stat-info h3').textContent = `$${totalIncome.toFixed(2)}`;
            document.querySelector('.stat-expense .stat-info h3').textContent = `$${totalExpense.toFixed(2)}`;
            document.querySelector('.stat-balance .stat-info h3').textContent = `$${balance.toFixed(2)}`;
            document.querySelector('.stat-pending .stat-info h3').textContent = pendingCount;
        }

        // Open modal for adding transaction
        function openAddModal() {
            const modal = document.getElementById('transactionModal');
            const modalTitle = document.getElementById('modalTitle');
            const form = document.getElementById('transactionForm');
            const deleteBtn = document.getElementById('deleteBtn');
            
            modalTitle.textContent = 'Add New Transaction';
            form.reset();
            deleteBtn.style.display = 'none';
            editingTransactionId = null;
            
            // Set today's date as default
            document.getElementById('transactionDate').value = new Date().toISOString().split('T')[0];
            
            modal.classList.add('active');
        }

        // Open modal for editing transaction
        function editTransaction(id) {
            const transaction = transactions.find(t => t.id === id);
            if (!transaction) return;
            
            const modal = document.getElementById('transactionModal');
            const modalTitle = document.getElementById('modalTitle');
            const deleteBtn = document.getElementById('deleteBtn');
            
            modalTitle.textContent = 'Edit Transaction';
            editingTransactionId = id;
            deleteBtn.style.display = 'block';
            
            // Populate form fields
            document.getElementById('transactionId').value = id;
            document.getElementById('transactionDate').value = transaction.date;
            document.getElementById('transactionAmount').value = transaction.amount;
            document.getElementById('transactionDescription').value = transaction.description;
            document.getElementById('transactionType').value = transaction.type;
            document.getElementById('transactionCategory').value = transaction.category;
            document.getElementById('transactionStatus').value = transaction.status;
            document.getElementById('paymentMethod').value = transaction.paymentMethod;
            document.getElementById('transactionNotes').value = transaction.notes || '';
            
            modal.classList.add('active');
        }

        // Close transaction modal
        function closeTransactionModal() {
            document.getElementById('transactionModal').classList.remove('active');
            document.getElementById('transactionForm').reset();
            editingTransactionId = null;
        }

        // Handle form submission
        function handleTransactionSubmit(e) {
            e.preventDefault();
            
            const transactionData = {
                id: editingTransactionId || Date.now(),
                date: document.getElementById('transactionDate').value,
                amount: parseFloat(document.getElementById('transactionAmount').value),
                description: document.getElementById('transactionDescription').value,
                type: document.getElementById('transactionType').value,
                category: document.getElementById('transactionCategory').value,
                status: document.getElementById('transactionStatus').value,
                paymentMethod: document.getElementById('paymentMethod').value,
                notes: document.getElementById('transactionNotes').value
            };
            
            if (editingTransactionId) {
                // Update existing transaction
                const index = transactions.findIndex(t => t.id === editingTransactionId);
                if (index !== -1) {
                    transactions[index] = transactionData;
                }
            } else {
                // Add new transaction
                transactions.unshift(transactionData);
            }
            
            // Reload table
            loadTransactions();
            
            // Update charts
            updateCharts();
            
            // Close modal
            closeTransactionModal();
            
            // Show notification
            showNotification(
                editingTransactionId ? 'Transaction updated successfully!' : 'Transaction added successfully!',
                'success'
            );
            
            // Add to recent activity
            addRecentActivity(
                editingTransactionId ? 'Transaction Updated' : 'New Transaction Added',
                transactionData.description
            );
        }

        // Delete transaction
        function deleteTransaction(id) {
            if (!id && editingTransactionId) {
                id = editingTransactionId;
            }
            
            if (confirm('Are you sure you want to delete this transaction?')) {
                transactions = transactions.filter(t => t.id !== id);
                loadTransactions();
                updateCharts();
                
                if (editingTransactionId) {
                    closeTransactionModal();
                }
                
                showNotification('Transaction deleted successfully!', 'success');
                addRecentActivity('Transaction Deleted', `ID: ${id}`);
            }
        }

        // Duplicate transaction
        function duplicateTransaction(id) {
            const transaction = transactions.find(t => t.id === id);
            if (transaction) {
                const duplicated = {
                    ...transaction,
                    id: Date.now(),
                    date: new Date().toISOString().split('T')[0],
                    description: `${transaction.description} (Copy)`
                };
                transactions.unshift(duplicated);
                loadTransactions();
                showNotification('Transaction duplicated successfully!', 'success');
            }
        }

        // Filter transactions
        function filterTransactions(filterType) {
            currentFilter = filterType;
            
            // Update active filter button
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Filter data
            let filteredData = [...transactions];
            
            const today = new Date().toISOString().split('T')[0];
            const weekAgo = new Date();
            weekAgo.setDate(weekAgo.getDate() - 7);
            const monthAgo = new Date();
            monthAgo.setDate(monthAgo.getDate() - 30);
            
            switch(filterType) {
                case 'income':
                    filteredData = transactions.filter(t => t.type === 'income');
                    break;
                case 'expense':
                    filteredData = transactions.filter(t => t.type === 'expense');
                    break;
                case 'pending':
                    filteredData = transactions.filter(t => t.status === 'pending');
                    break;
                case 'today':
                    filteredData = transactions.filter(t => t.date === today);
                    break;
                case 'week':
                    filteredData = transactions.filter(t => new Date(t.date) >= weekAgo);
                    break;
                case 'month':
                    filteredData = transactions.filter(t => new Date(t.date) >= monthAgo);
                    break;
            }
            
            // Update DataTable
            dataTable.clear();
            filteredData.forEach(transaction => {
                dataTable.row.add(transaction);
            });
            dataTable.draw();
        }

        // Update charts with new data
        function updateCharts() {
            // In a real app, you would recalculate chart data from transactions
            // For now, we'll just add some random variation to simulate updates
            
            const variation = (Math.random() * 10) - 5; // -5% to +5%
            
            if (charts.incomeExpense) {
                charts.incomeExpense.data.datasets[0].data = 
                    charts.incomeExpense.data.datasets[0].data.map(value => 
                        Math.round(value * (1 + variation / 100))
                    );
                charts.incomeExpense.update();
            }
            
            if (charts.category) {
                charts.category.data.datasets[0].data = 
                    charts.category.data.datasets[0].data.map(value => 
                        Math.max(5, Math.round(value * (1 + variation / 100)))
                    );
                charts.category.update();
            }
        }

        // Export transactions
        function exportTransactions() {
            openExportModal();
        }

        function openExportModal() {
            document.getElementById('exportModal').classList.add('active');
        }

        function closeExportModal() {
            document.getElementById('exportModal').classList.remove('active');
        }

        function selectExportFormat(format) {
            document.querySelectorAll('.export-option').forEach(opt => {
                opt.style.borderColor = 'var(--border)';
                opt.style.background = 'white';
            });
            event.currentTarget.style.borderColor = 'var(--primary)';
            event.currentTarget.style.background = 'var(--primary-light)';
        }

        function confirmExport() {
            const format = document.querySelector('.export-option:hover')?.querySelector('div')?.textContent.toLowerCase() || 'csv';
            const startDate = document.getElementById('exportStartDate').value;
            const endDate = document.getElementById('exportEndDate').value;
            
            closeExportModal();
            
            // Simulate export process
            showLoading();
            setTimeout(() => {
                hideLoading();
                showNotification(`Transactions exported as ${format.toUpperCase()} successfully!`, 'success');
                
                // In real app, this would trigger download
                simulateDownload(`transactions_${startDate}_to_${endDate}.${format}`, getMimeType(format));
                
                addRecentActivity('Report Exported', `Format: ${format.toUpperCase()}`);
            }, 1500);
        }

        // Import transactions
        function importTransactions() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.csv,.json,.xlsx';
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    showLoading();
                    setTimeout(() => {
                        // Simulate import process
                        hideLoading();
                        showNotification(`Successfully imported ${file.name}`, 'success');
                        
                        // Add sample imported data
                        const newTransaction = {
                            id: Date.now(),
                            date: new Date().toISOString().split('T')[0],
                            description: `Imported from ${file.name}`,
                            category: 'other',
                            type: 'expense',
                            amount: 100.00,
                            status: 'completed',
                            paymentMethod: 'bank_transfer',
                            notes: `Imported from ${file.name}`
                        };
                        transactions.unshift(newTransaction);
                        loadTransactions();
                        
                        addRecentActivity('Data Imported', file.name);
                    }, 2000);
                }
            };
            input.click();
        }

        // Other quick actions
        function openRecurringModal() {
            showNotification('Opening recurring transactions...', 'info');
        }

        function openCategoriesModal() {
            showNotification('Opening category management...', 'info');
        }

        function runReports() {
            showNotification('Generating analytics report...', 'info');
        }

        // Refresh data
        function refreshData() {
            showLoading();
            setTimeout(() => {
                updateStats();
                updateCharts();
                hideLoading();
                showNotification('Data refreshed successfully!', 'success');
            }, 1000);
        }

        // Helper functions
        function getStatusBadge(status) {
            const badges = {
                'completed': '<span class="status-badge status-completed">Completed</span>',
                'pending': '<span class="status-badge status-pending">Pending</span>',
                'failed': '<span class="status-badge status-failed">Failed</span>',
                'processing': '<span class="status-badge status-processing">Processing</span>'
            };
            return badges[status] || '<span class="status-badge">Unknown</span>';
        }

        function getCategoryBadge(category) {
            const badges = {
                'shopping': '<span class="category-badge category-shopping">Shopping</span>',
                'food': '<span class="category-badge category-food">Food</span>',
                'transport': '<span class="category-badge category-transport">Transport</span>',
                'entertainment': '<span class="category-badge category-entertainment">Entertainment</span>',
                'bills': '<span class="category-badge category-bills">Bills</span>',
                'salary': '<span class="category-badge category-salary">Salary</span>',
                'investment': '<span class="category-badge" style="background: #fef3c7; color: #92400e;">Investment</span>',
                'other': '<span class="category-badge" style="background: #e5e7eb; color: #374151;">Other</span>'
            };
            return badges[category] || '<span class="category-badge">Other</span>';
        }

        function getTypeBadge(type) {
            const badges = {
                'income': '<span class="type-badge type-income">Income</span>',
                'expense': '<span class="type-badge type-expense">Expense</span>',
                'transfer': '<span class="type-badge type-transfer">Transfer</span>',
                'refund': '<span class="type-badge type-refund">Refund</span>'
            };
            return badges[type] || '<span class="type-badge">Other</span>';
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', { 
                month: 'short', 
                day: 'numeric', 
                year: 'numeric' 
            });
        }

        function addRecentActivity(title, description) {
            const activityList = document.getElementById('activityList');
            const activityItem = document.createElement('div');
            activityItem.className = 'activity-item';
            activityItem.innerHTML = `
                <div class="activity-icon activity-success">
                    <i class="fas fa-bell"></i>
                </div>
                <div class="activity-details">
                    <h4>${title}</h4>
                    <p>${description}</p>
                </div>
                <div class="activity-time">Just now</div>
            `;
            activityList.insertBefore(activityItem, activityList.firstChild);
            
            // Remove oldest activity if more than 5
            if (activityList.children.length > 5) {
                activityList.removeChild(activityList.lastChild);
            }
        }

        function getMimeType(format) {
            const mimeTypes = {
                'pdf': 'application/pdf',
                'excel': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',
                'csv': 'text/csv',
                'json': 'application/json'
            };
            return mimeTypes[format] || 'text/plain';
        }

        function simulateDownload(filename, contentType) {
            const blob = new Blob(['Simulated transaction data'], { type: contentType });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function showNotification(message, type) {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 25px;
                border-radius: 10px;
                color: white;
                font-weight: 600;
                z-index: 10000;
                animation: slideIn 0.3s ease;
                background: ${type === 'success' ? '#10b981' : 
                           type === 'error' ? '#ef4444' : '#f59e0b'};
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        function showLoading() {
            if (!document.getElementById('loadingOverlay')) {
                const overlay = document.createElement('div');
                overlay.id = 'loadingOverlay';
                overlay.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(255, 255, 255, 0.9);
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    z-index: 9999;
                `;
                overlay.innerHTML = `<div class="loading"></div>`;
                document.body.appendChild(overlay);
            }
        }

        function hideLoading() {
            const overlay = document.getElementById('loadingOverlay');
            if (overlay) {
                overlay.remove();
            }
        }
    </script>
</body>
</html>